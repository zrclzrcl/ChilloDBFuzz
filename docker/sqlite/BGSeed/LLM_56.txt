CREATE TABLE employees (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE,
    phone_number VARCHAR(20),
    hire_date DATE NOT NULL,
    job_id INTEGER,
    salary DECIMAL(10, 2),
    commission_pct DECIMAL(4, 2),
    manager_id INTEGER,
    department_id INTEGER
);

CREATE TABLE departments (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(50) NOT NULL,
    location_id INTEGER
);

CREATE TABLE jobs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title VARCHAR(50) NOT NULL,
    min_salary DECIMAL(10, 2),
    max_salary DECIMAL(10, 2)
);

CREATE INDEX idx_employees_last_name ON employees (last_name);
CREATE INDEX idx_departments_name ON departments (name);

INSERT INTO jobs (title, min_salary, max_salary) VALUES ('Software Engineer', 60000, 120000);
INSERT INTO jobs (title, min_salary, max_salary) VALUES ('Data Scientist', 70000, 150000);
INSERT INTO jobs (title, min_salary, max_salary) VALUES ('Project Manager', 80000, 160000);

INSERT INTO departments (name, location_id) VALUES ('Engineering', 1);
INSERT INTO departments (name, location_id) VALUES ('Data Science', 2);
INSERT INTO departments (name, location_id) VALUES ('Management', 3);

INSERT INTO employees (first_name, last_name, email, hire_date, job_id, salary, department_id) VALUES ('John', 'Doe', 'john.doe@example.com', '2022-01-15', 1, 80000, 1);
INSERT INTO employees (first_name, last_name, email, hire_date, job_id, salary, department_id) VALUES ('Jane', 'Smith', 'jane.smith@example.com', '2022-02-20', 2, 90000, 2);
INSERT INTO employees (first_name, last_name, email, hire_date, job_id, salary, department_id) VALUES ('Peter', 'Jones', 'peter.jones@example.com', '2022-03-10', 3, 100000, 3);
INSERT INTO employees (first_name, last_name, email, hire_date, job_id, salary, department_id) VALUES ('Alice', 'Brown', 'alice.brown@example.com', '2022-04-01', 1, 85000, 1);

SELECT * FROM employees WHERE salary > 85000;
SELECT COUNT(*) FROM employees WHERE department_id = 1;
SELECT AVG(salary) FROM employees;
SELECT first_name, last_name FROM employees ORDER BY last_name ASC LIMIT 2;
SELECT departments.name, COUNT(employees.id) FROM departments LEFT JOIN employees ON departments.id = employees.department_id GROUP BY departments.name;
SELECT quote('abc');
SELECT substr('abcdef', 2, 3);
PRAGMA table_info(employees);