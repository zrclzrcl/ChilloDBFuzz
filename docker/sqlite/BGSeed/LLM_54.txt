CREATE TABLE products (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    price REAL NOT NULL CHECK (price > 0),
    description TEXT,
    category TEXT
);

CREATE INDEX idx_products_category ON products (category);

CREATE VIEW discounted_products AS
SELECT id, name, price * 0.9 AS discounted_price
FROM products
WHERE price > 10;

CREATE TRIGGER update_description
AFTER INSERT ON products
BEGIN
    UPDATE products SET description = 'New product added!' WHERE id = NEW.id;
END;

INSERT INTO products (name, price, description, category) VALUES ('Laptop', 1200.00, 'High-performance laptop', 'Electronics');
INSERT INTO products (name, price, description, category) VALUES ('Mouse', 25.00, 'Wireless mouse', 'Electronics');
INSERT INTO products (name, price, description, category) VALUES ('T-shirt', 20.00, 'Cotton t-shirt', 'Clothing');
INSERT INTO products (name, price, description, category) VALUES ('Book', 15.00, 'Mystery novel', 'Books');

SELECT * FROM products WHERE price BETWEEN 10 AND 100;
SELECT * FROM discounted_products;

UPDATE products SET price = price * 1.1 WHERE category = 'Electronics';

DELETE FROM products WHERE id = (SELECT id FROM products ORDER BY price ASC LIMIT 1);

PRAGMA table_info(products);
PRAGMA index_list(products);